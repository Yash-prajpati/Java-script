<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">

</head>
<body style="background-color: rgb(255, 255, 255);">

   
    <nav class="navbar navbar-expand-lg ">
        <div class="container">
          <a class="navbar-brand" href="#">Navbar</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="#">Home</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">Link</a>
              </li>
              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                  Dropdown
                </a>
                <ul class="dropdown-menu">
                  <li><a class="dropdown-item" href="#">Action</a></li>
                  <li><a class="dropdown-item" href="#">Another action</a></li>
                  <li><hr class="dropdown-divider"></li>
                  <li><a class="dropdown-item" href="#">Something else here</a></li>
                </ul>
              </li>
              <li class="nav-item">
                <a class="nav-link disabled">Disabled</a>
              </li>
            </ul>
            <form class="d-flex" role="search">
              <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
              <button class="btn btn-outline-success" type="submit">Search</button>
            </form>
          </div>
        </div>
      </nav>

    <div align="center">
     <div class="container">
      <div class="row" id="tbl">
        <table>
          <thead>
              <tr>
                  <th>id</th>
                  <th>name</th>
                  <th>img</th>
                  <th>prize</th>
                  <th>qty</th>
              </tr>
          </thead>
          <tbody id="cart">

          </tbody>
      </table>
      </div>
     </div>
        <h1 id="ftotal" style="margin-top: 42px;"></h1>
        <a href="index.html" class="w-25 bth btn-primary" style="text-decoration: none; ">continue shopping</a>
 
   
    </div>   

    <script>

        const getcart = () =>{
            let allcart = JSON.parse(localStorage.getItem('cart')) ? JSON.parse(localStorage.getItem('cart')) : [];
            let tbl = "";
            let sum = 0;

            allcart.map((val,i)=>{
                ftotal = val.prize * val.qty;

                tbl+=`
                
                    <tr>
                        
                        <td>${++i}</td>
                        <td>${val.name}</td>
                        <td>
                            <img src="${val.img}" >
                          </td>
                        <td>${val.pize}</td>
                         <td>
                         <input class="form-control w-25" id="qty_${val.id}" type="number" onchange="editqty(${val.id})" value="${val.qty}"/>
                        </td>
                        <td>${val.qty}</td>
                        <td>
                            <button onclick="deletcart(${val.id})">delet</button>
                          </td>
                        
                        </tr>
                
                
                `
            })
            document.getElementById('cart').innerHTML=tbl;
            document.getElementById('ftotal').innerHTML=sum
        }
        getcart();

        const editqty = (id) =>{
          let qty = document.getElementById(`qty_${val.id}}`).value
          let alldata = JSON.parse(localStorage.getItem('cart'));
          let up= alldata((val,index)=>{

            if(val.id == id){
              val.qty = parseInt(qty);
            }
            return val;
          })
          localStorage.setItem('cart',JSON.stringify(up));
            alert("cart update");
           getcard();
        }
        const deletcard = (id)=>{
          let alldata = JSON.parse(localStorage.getItem('cart'));
          let dcart = alldata.filter(item = item.id != id);
          localStorage.setItem('cart',JSON.stringify(dcard));
          alert("data wil remove");
          getcart();
        }
    </script>



    
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>